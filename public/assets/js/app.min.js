/*! instant.page v5.1.0 - (C) 2019-2020 Alexandre Dieulot - https://instant.page/license */let mouseoverTimer,lastTouchTimestamp;const prefetches=new Set,prefetchElement=document.createElement("link"),isSupported=prefetchElement.relList&&prefetchElement.relList.supports&&prefetchElement.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,allowQueryString="instantAllowQueryString"in document.body.dataset,allowExternalLinks="instantAllowExternalLinks"in document.body.dataset,useWhitelist="instantWhitelist"in document.body.dataset,mousedownShortcut="instantMousedownShortcut"in document.body.dataset,DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION=1111;let delayOnHover=65,useMousedown=!1,useMousedownOnly=!1,useViewport=!1;if("instantIntensity"in document.body.dataset){const a=document.body.dataset.instantIntensity;if(a.substr(0,"mousedown".length)=="mousedown")useMousedown=!0,a=="mousedown-only"&&(useMousedownOnly=!0);else if(a.substr(0,"viewport".length)=="viewport")navigator.connection&&(navigator.connection.saveData||navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g"))||(a=="viewport"?document.documentElement.clientWidth*document.documentElement.clientHeight<45e4&&(useViewport=!0):a=="viewport-all"&&(useViewport=!0));else{const b=parseInt(a);isNaN(b)||(delayOnHover=b)}}if(isSupported){const a={capture:!0,passive:!0};if(useMousedownOnly||document.addEventListener("touchstart",touchstartListener,a),useMousedown?mousedownShortcut||document.addEventListener("mousedown",mousedownListener,a):document.addEventListener("mouseover",mouseoverListener,a),mousedownShortcut&&document.addEventListener("mousedown",mousedownShortcutListener,a),useViewport){let a;window.requestIdleCallback?a=a=>{requestIdleCallback(a,{timeout:1500})}:a=a=>{a()},a(()=>{const a=new IntersectionObserver(b=>{b.forEach(b=>{if(b.isIntersecting){const c=b.target;a.unobserve(c),preload(c.href)}})});document.querySelectorAll("a").forEach(b=>{isPreloadable(b)&&a.observe(b)})})}}function touchstartListener(b){lastTouchTimestamp=performance.now();const a=b.target.closest("a");if(!isPreloadable(a))return;preload(a.href)}function mouseoverListener(b){if(performance.now()-lastTouchTimestamp<DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION)return;const a=b.target.closest("a");if(!isPreloadable(a))return;a.addEventListener("mouseout",mouseoutListener,{passive:!0}),mouseoverTimer=setTimeout(()=>{preload(a.href),mouseoverTimer=void 0},delayOnHover)}function mousedownListener(b){const a=b.target.closest("a");if(!isPreloadable(a))return;preload(a.href)}function mouseoutListener(a){if(a.relatedTarget&&a.target.closest("a")==a.relatedTarget.closest("a"))return;mouseoverTimer&&(clearTimeout(mouseoverTimer),mouseoverTimer=void 0)}function mousedownShortcutListener(a){if(performance.now()-lastTouchTimestamp<DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION)return;const b=a.target.closest("a");if(a.which>1||a.metaKey||a.ctrlKey)return;if(!b)return;b.addEventListener("click",function(a){if(a.detail==1337)return;a.preventDefault()},{capture:!0,passive:!1,once:!0});const c=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1,detail:1337});b.dispatchEvent(c)}function isPreloadable(a){if(!a||!a.href)return;if(useWhitelist&&!("instant"in a.dataset))return;if(!allowExternalLinks&&a.origin!=location.origin&&!("instant"in a.dataset))return;if(!["http:","https:"].includes(a.protocol))return;if(a.protocol=="http:"&&location.protocol=="https:")return;if(!allowQueryString&&a.search&&!("instant"in a.dataset))return;if(a.hash&&a.pathname+a.search==location.pathname+location.search)return;if("noInstant"in a.dataset)return;return!0}function preload(a){if(prefetches.has(a))return;const b=document.createElement("link");b.rel="prefetch",b.href=a,document.head.appendChild(b),prefetches.add(a)}